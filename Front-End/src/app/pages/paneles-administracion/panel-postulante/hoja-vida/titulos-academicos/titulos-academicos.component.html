<navTab-postulante></navTab-postulante>


<div class="content-wrapper">
    <div class="card">
        <h6 class="container mt-4">Títulos Académicos</h6>
        <hr>
        <div class="col-2 mt-2">
            <a class="float-right btn btn-outline-primary" [routerLink]="['/panel-postulante/add-titulo']">
                <i class="fa fa-plus" aria-hidden="true"></i> Agregar</a>
        </div>
        <article class="card-body animated animate__animated fadeIn">
            <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Titulo</th>
                        <th>Nivel de instrucción </th>
                        <th># Registro</th>
                        <th>Tipo</th>
                        <th>Detalles</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let titulosAcademicos of tituloAcademico;let i=index">
                        <td>{{ i+1 }}</td>
                        <td>{{ titulosAcademicos.titulo_obtenido }}</td>
                        <td *ngIf="(titulosAcademicos.nivel_instruccion).toString()=='1' ">Tercer Nivel</td>
                        <td *ngIf="(titulosAcademicos.nivel_instruccion).toString()=='2' ">Cuarto Nivel</td>
                        <td>{{ titulosAcademicos.numero_registro }}</td>
                        <td *ngIf="(titulosAcademicos.tipo_titulo).toString()=='1' ">Nacional</td>
                        <td *ngIf="(titulosAcademicos.tipo_titulo).toString()=='2' ">Extranjero</td>
                        <td>{{ titulosAcademicos.detalles_adiciones }}</td>
                        <td>
                            <a class="btn btn-light" (click)="mostrarPdf(titulosAcademicos.evidencias_url)">
                                <i class="far fa-file-pdf "></i>
                            </a>
                            <!-- ==================== MOSTRAR MODAL ======================== -->
                            <!-- <a class="btn btn-light " href="http://localhost/Tesis/Archivos/Titulos/{{ titulosAcademicos.evidencias_url }} " target="alt "><i class="far fa-file-pdf " ></i></a> -->
                            <a class="btn btn-light" [routerLink]="[ '/panel-postulante/edit-titulo',titulosAcademicos.external_ti] "><i class="fas fa-pencil-alt " ></i></a>
                            <a class="btn btn-light" (click)="eliminarTitulo(titulosAcademicos.external_ti,titulosAcademicos.titulo_obtenido,titulosAcademicos.evidencias_url,i)"><i class="fas fa-trash-alt "></i></a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </article>
    </div>
</div>

<!-- Full screen modal -->
<div class="modal fade" id="mostrarPDF" tabindex="-1" aria-labelledby="pdfModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="pdfModalLabel">PDF</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="embed-responsive embed-responsive-16by9">
                    <iframe width="977" height="733" [src]="ubicacionArchivo|domseguro " frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
                        
                    </iframe>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>